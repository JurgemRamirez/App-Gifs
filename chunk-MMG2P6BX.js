import{b as V}from"./chunk-OFHTNQKQ.js";import{Ga as y,Ia as g,K as u,Ka as f,La as m,Ma as o,Na as l,Oa as D,P as p,Pa as E,Qa as I,Ua as P,Va as R,W as S,X as T,ma as _,pa as r,ua as C,va as h,ya as w}from"./chunk-PMQC65UJ.js";var c=class i{trendingScrollState=C(0);constructor(){}static \u0275fac=function(e){return new(e||i)};static \u0275prov=u({token:i,factory:i.\u0275fac,providedIn:"root"})};var A=["gruopDiv"];function F(i,t){if(i&1&&(o(0,"div",3),D(1,"img",4),l()),i&2){let e=t.$implicit;r(),y("src",e.url,_)}}function G(i,t){if(i&1&&(o(0,"div",2),f(1,F,2,1,"div",3,g),l()),i&2){let e=t.$implicit;r(),m(e)}}var d=class i{scrollDivRef=h("gruopDiv");gifService=p(V);scrollStateService=p(c);ngAfterViewInit(){let t=this.scrollDivRef()?.nativeElement;t&&(t.scrollTop=this.scrollStateService.trendingScrollState())}onscroll(t){let e=this.scrollDivRef()?.nativeElement;if(!e)return;let n=e.scrollTop,s=e.scrollHeight,v=e.clientHeight,a=n+v+300>=s;this.scrollStateService.trendingScrollState.set(n),a&&this.gifService.loadTrendingGifs()}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=w({type:i,selectors:[["app-trending-page"]],viewQuery:function(e,n){e&1&&P(n.scrollDivRef,A,5),e&2&&R()},decls:4,vars:0,consts:[["gruopDiv",""],[1,"h-screen","overflow-y-scroll","grid","grid-cols-2","md:grid-cols-4","gap-4",3,"scroll"],[1,"grid","gap-4"],[1,""],["alt","",1,"h-full","w-full","rounded-lg","object-cover",3,"src"]],template:function(e,n){if(e&1){let s=E();o(0,"div",1,0),I("scroll",function(a){return S(s),T(n.onscroll(a))}),f(2,G,3,0,"div",2,g),l()}e&2&&(r(2),m(n.gifService.trendingGifGroup()))},encapsulation:2})};export{d as default};
